# Fraction of positive people that would be discovered as positive in the absence of regular required testing, shortly after their infection.
# As discussed in the spring 2022 modeling report in the "Probability of Detection without Regular Required Testing",
# we use a range of 22% to 56%, treating this as a 95% confidence interval for this parameter.
# This gives a mean of 0.39 and a standard deviation of .09.
# In the early-Jan nominal scenario, this parameter was estimated to be .525. This was based on
# an estimate of 35% as reporting symptoms, and then multiplying by 1.5 to account for contact tracing.
symptomatic_rate:
  scale: "linear"
  a: 0
  b: 1
  mu: 0.39
  std: 0.09

# Owner: Sam (@sst76)
# Calibrated using pareto-fitted pop_fracs.
# See calibration-employee.py in jan16_calib branch
# NOTE: This is calibrated to a pre-Omicron period so this should be multiplied
# by the [omicron_transmission_multiplier].
infections_per_day_per_contact_unit_FS:
  scale: "linear"
  a: 0        # must be positive
  b: .inf
  mu: 0.005
  std: 0.0025

# Owners: Sam (@sst76) and Bonnie (@bca44)
# TODO: Add explanation
omicron_transmission_multiplier:
  scale: "linear"
  a: 0   #must be positive
  b: .inf
  mu: 3.5
  std: 0.75

#Calibrated the student infections_per_day_per_contact_unit to the December Omicron outbreak
#slightly different than before since we are now using the pareto-fit pop_fras
#TODO: GR =/= PR whereas previously we manually set them equal. Still want to?
infections_per_day_per_contact_unit_UG:
  scale: "linear"
  a: 0        # must be positive
  b: .inf
  mu: 0.25
  std: 0.05   # 0.25 / 5

#Currently set GR and PR to have same transmissibility due to fall data
infections_per_day_per_contact_unit_allGrad:
  scale: "linear"
  a: 0        # must be positive
  b: .inf
  mu: 0.08
  std: 0.016  # 0.08 / 5

# Owner: Sam (@sst76)
# TODO [Sam], potentially incorporate calibrating outside_rate and infections_per... together
# derived from 82 outside infections from 1/7 to 1/14 inclusive with at least 2 daily checks
# since 1/4, vs 122 outside infections total from 1/7 to 1/14
# NOTE: This is calibrated to a pre-Omicron period so this should be multiplied
# by the [outside_rate_post_peak_multiplier].

# [1/27/2022] This parameter was re-calibrated based on observed arrival
# testing data. The calculations can be found in the Google Sheet below.
# The faculty / staff parameters are computed in "Faculty / Staff" sheet
# https://docs.google.com/spreadsheets/d/1IH33SYF9uYkZn01DSEL7vfVkL56Pta2gLnQKztAIaRQ/edit#gid=909204111
outside_rate_FS:
  scale: "linear"
  a: 0      #must be positive
  b: .inf
  mu: 16    # ~112/week
  std: 1.25

#TODO [Sam], add parameter for uncertainty around student/FS proportions for outside_rate

# Owner: Peter (@pf98)
# TODO: Add explanation
classwork_transmission_multiplier:
  scale: "linear"
  a: 0
  b: 1
  mu: 0.85
  std: 0.075

# Owner: Jiayue
# The booster will have an effect on both transmissibility and susceptibility.
# This parameter captures the combined effect where we pessimistically assume
# there is no effect on transmissibility (multiplier of 1.0) and assume
# it halves the susceptibility (multiplier of 0.5) giving a combined 1.0 * 0.5
booster_multiplier:
  scale: "linear"
  a: 0
  b: 1
  mu: 0.465
  std: 0.0425

# Owner: Bonnie (@bca44)
# Based on the "Prior on booster_hospitalization_multiplier" in
# https://docs.google.com/spreadsheets/d/1IH33SYF9uYkZn01DSEL7vfVkL56Pta2gLnQKztAIaRQ/edit#gid=1416940777
booster_hospitalization_multiplier:
  scale: "log"
  a: -.inf
  b: 0
  mu: -1.039720771
  std: 0.5198603854
  # mean 0.5, [1/8, 1] 2 std interval

# Owner: Bonnie (@bca44)
# (bca44): We are using the same PCR sensitivity
# range (50-70%, centered around 60%) as mentioned in the
# PNAS paper. These values are cited from here:
# https://journals.asm.org/doi/pdf/10.1128/jcm.00995-20
# Since Omicron has a slightly lower viral load than delta,
# we could also reduct PCR effectiveness slightly if desired
pcr_sensitivity:
  scale: "linear"
  a: 0
  b: 1
  mu: 0.6
  std: 0.05

# Owner: Bonnie (@bca44)
# During FA 2020, there was a period of time during which there were
# no penalties for missed surveillance tests. Since there are
# penalties for missing surveillance tests currently, and since PCR
# tests are supervised, we can use our test compliance data from
# FA 2020 to determine the percent PCR compliance. For most of the semester,
# PCR compliance hovered slight above 95%. Thus, we will use a range of
# 90-100% PCR compliance for SP 2022, centered around 95%.
pcr_compliance:
  scale: "linear"
  a: 0
  b: 1
  mu: 0.95
  std: 0.025

# Owner: Bonnie (@bca44)
# (bca44): Multiple recent publications discuss the sensitivity of
# antigen tests for Omicron in relation to PCR tests. One article
# (https://www.idsociety.org/covid-19-real-time-learning-network/diagnostics/rapid-testing/)
#cites that antigen tests are anywhere from 30-40% less sensitive than
# PCR tests. This range would correspond to approximately
# 30-50% sensitivity. Another study
# (https://www.medrxiv.org/content/10.1101/2022.01.08.22268954v1)
# reports tht anitgen tests in fully boostered
# populations (which approximately describes Cornell) have around 51%
# sensitivity (95% CI: 37-65% sensitivity). Thus, we use a range of 30-65%
# antigen sensitivity, centered at 50%.

antigen_sensitivity:
  scale: "linear"
  a: 0
  b: 1
  mu: 0.5
  std: 0.05

# Owner: Bonnie (@bca44)
# (bca44): After polling various students from different
# social circles and discussing factors that could be
# detrimental to compliance, we determined that antigen compliance
# is approx. 50-80%, centered at 60%
antigen_compliance:
  scale: "linear"
  a: 0
  b: 1
  mu: 0.60
  std: 0.05

# Owner: Xiangyu (@xz556)
pop_fracs_pareto_UG_on:
  scale: "log"
  a:  -.inf # exp(mu - 2 std)
  b: .inf  # exp(mu + 2 std)
  mu: -2.659260036932778 #0.089
  std: 0.9729550745276565

pop_fracs_pareto_UG_off:
  scale: "log"
  a:  -.inf # exp(mu - 2 std)
  b: .inf  # exp(mu + 2 std)
  mu: -2.659260036932778
  std: 0.9729550745276565

pop_fracs_pareto_GR_on:
  scale: "log"
  a:  -.inf # exp(mu - 2 std)
  b: .inf  # exp(mu + 2 std)
  mu: -2.04022082 #0.765 \neq e^{-2}
  std: 1.2824746787307681

pop_fracs_pareto_GR_off:
  scale: "log"
  a:  -.inf # exp(mu - 2 std)
  b: .inf  # exp(mu + 2 std)
  mu: -2.04022082
  std: 1.2824746787307681

pop_fracs_pareto_PR_on:
  scale: "log"
  a:  -.inf # exp(mu - 2 std)
  b: .inf  # exp(mu + 2 std)
  mu: -2.228159619
  std: 1.188505283180111

pop_fracs_pareto_PR_off:
  scale: "log"
  a:  -.inf # exp(mu - 2 std)
  b: .inf  # exp(mu + 2 std)
  mu: -2.228159619
  std: 1.188505283180111

pop_fracs_pareto_FS:
  scale: "log"
  a: -.inf  # exp(mu - 2 std)
  b: .inf  # exp(mu + 2 std)
  mu: -0.48722482302384357
  std: 0.25351372516001164

# Aligns with the faculty/staff no surveillance rate.
no_surveillance_test_rate_student:
  scale: "linear"
  a: 0.01
  b: .inf
  mu: 0.03
  std: 0.01

# Roughly 6 but want to capture variability.
max_infectious_days:
  scale: "linear"
  a: 5
  b: 7
  mu: 6
  std: 0.5
